((t,o)=>{"function"==typeof define&&define.amd?define(["jquery"],function(e){return o(e,t.document)}):"object"==typeof module&&module.exports?module.exports=function(e,t){return e=e||window,void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),o(t,e.document),t}:o(jQuery,t.document)})("undefined"!=typeof window?window:this,function(a,t){function d(e){h(e)}function o(e){function t(){var o=!1;return a(".jqmID"+n.s).each(function(){var e=a(this),t=e.offset();if(t.top<=r&&r<=t.top+e.height()&&t.left<=s&&s<=t.left+e.width())return!(o=!0)}),o}var n=f[c[c.length-1]],o=!a(e.target).parents(".jqmID"+n.s)[0],i=a(e.target).offset(),s=void 0!==e.pageX?e.pageX:i.left,r=void 0!==e.pageY?e.pageY:i.top;return!("mousedown"===e.type||!t())||("mousedown"===e.type&&(o=o&&!t()&&o)&&!a(e.target).is(":input")&&h(n),!o)}function u(e){a(t)[e]("keypress keydown mousedown",o)}function n(e,t,o){return e.each(function(){var e=this._jqm;a(t).each(function(){this[o]||(this[o]=[],a(this).click(function(){for(var e,t,o=["jqmShow","jqmHide"],n=0;n<o.length;n++)for(t in this[e=o[n]])this[e].hasOwnProperty(t)&&f[this[e][t]]&&f[this[e][t]].w[e](this);return!1})),this[o].push(e)})})}var f,i=0,c=[],h=function(e){try{a(":input:visible",e.w).first().focus()}catch(e){}};a.fn.jqm=function(e){var t={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return f[this._jqm].c=a.extend({},f[this._jqm].c,e),f[this._jqm].c;i++,this._jqm=i,f[i]={c:a.extend(t,a.jqm.params,e),a:!1,w:a(this).addClass("jqmID"+i),s:i},t.trigger&&a(this).jqmAddTrigger(t.trigger)})},a.fn.jqmAddClose=function(e){return n(this,e,"jqmHide")},a.fn.jqmAddTrigger=function(e){return n(this,e,"jqmShow")},a.fn.jqmShow=function(e){return this.each(function(){a.jqm.open(this._jqm,e)})},a.fn.jqmHide=function(e){return this.each(function(){a.jqm.close(this._jqm,e)})},a.jqm={hash:{},open:function(e,t){var o=f[e],n=o.c,i=(o.w.parent().offset(),"."+n.closeClass),s=0<(s=parseInt(o.w.css("z-index"),10))?s:3e3,r=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:n.overlay/100});return o.a||(o.t=t,o.a=!0,o.w.css("z-index",s),a(o.w[0].ownerDocument).data("ui-dialog-overlays")&&o.w.addClass("ui-dialog"),n.modal?(c[0]||setTimeout(function(){u("bind")},1),c.push(e)):0<n.overlay?n.closeoverlay&&o.w.jqmAddClose(r):r=!1,o.o=!!r&&r.addClass(n.overlayClass).prependTo("body"),n.ajax?(s=n.target||o.w,e=n.ajax,s="string"==typeof s?a(s,o.w):a(s),e="@"===e.substr(0,1)?a(t).attr(e.substring(1)):e,s.html(n.ajaxText).load(e,function(){n.onLoad&&n.onLoad.call(this,o),i&&o.w.jqmAddClose(a(i,o.w)),d(o)})):i&&o.w.jqmAddClose(a(i,o.w)),n.toTop&&o.o&&(r=o.w.parent().offset(),t=parseFloat(o.w.css("left")||0),s=parseFloat(o.w.css("top")||0),o.w.before('<span id="jqmP'+o.w[0]._jqm+'"></span>').insertAfter(o.o),o.w.css({top:r.top+s,left:r.left+t})),n.onShow?n.onShow(o):o.w.show(),d(o)),!1},close:function(e){e=f[e];return e.a&&(e.a=!1,c[0]&&(c.pop(),c[0]||u("unbind")),e.c.toTop&&e.o&&a("#jqmP"+e.w[0]._jqm).after(e.w).remove(),e.c.onHide?e.c.onHide(e):(e.w.hide(),e.o&&e.o.remove())),!1},params:{}},f=a.jqm.hash});
//# sourceMappingURL=jqmodal.js.map